function(add_regular_test test_source)
    add_regular_executable(${test_source})
    get_filename_component(core_name ${test_source} NAME_WLE)
    add_test(Run_${core_name} ${core_name})
endfunction()

file(GLOB test_sources *.cpp)
foreach(test_source ${test_sources})
    add_regular_test(${test_source})
endforeach()
